<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><!doctype html>
<head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>Change tracker</title>
</head>
<body bgcolor="#CCCCCC"><font face=arial>
<script src="/jquery-3.1.1.js"></script>
<script type="text/javascript">
    var op
    
    function set_url_span(url)
    {
        var h = "URL to execute the query above:<br><a href='" + url + "'>" + url + "</a>"
        var f = $('#url_span')
        f.html(h)
    }
    function submit_json(op_parm)
    {
        op = op_parm
        var json1 = $('#json_textarea1').val().replace(/[ \t\n]/g, '')
        var json2 = $('#json_textarea2').val().replace(/[ \t\n]/g, '')
        var web_root = window.location.href.replace('/ui.htm', '')
        url = web_root + "/?pretty=true&op=" + op + "&json1=" + escape(json1) + "&json2=" + escape(json2)
        var ct_iframe = $('#ct_iframe')
        ct_iframe.attr('src', url)
        set_url_span(url)
    }
    function init()
    {
        document.xform.q1.value = '{\n'
        + '  "cspec": "git;git.osn.oraclecorp.com;osn/cec-server-integration;;;6b5ed0226109d443732540fee698d5d794618b64",\n'
        + '  "cspec_deps": [\n'
        + '    "git;git.osn.oraclecorp.com;ccs/caas;master;a1466659536cf2225eadf56f43972a25e9ee1bed",\n'
        + '    "git;git.osn.oraclecorp.com;osn/cef;master;749581bac1d93cda036d33fbbdbe95f7bd0987bf"\n'
        + '  ]\n'
        + '}\n'
        document.xform.q2.value = '{\n'
        + '  "cspec_deps": [\n'
        + '    "git;git.osn.oraclecorp.com;ccs/caas;master;a1466659536cf2225eadf56f43972a25e9ee1bed",\n'
        + '    "git;git.osn.oraclecorp.com;osn/cef;master;749581bac1d93cda036d33fbbdbe95f7bd0987bf"\n'
        + '  ],\n'
        + '  "cspec": "git;git.osn.oraclecorp.com;osn/cec-server-integration;;;06c85af5cfa00b0e8244d723517f8c3777d7b77e"\n'
        + '}'
        document.xform.json_textarea1.focus()
    }
    onload=init
</script>

<form name="xform">
    <h5>Change tracker</h5>
    The change tracker application <b>CT</b> answers some questions about how some software under test <b>SUT</b> has evolved over a span of time. The start and end of that span of time are described by two sets of commit specifications.  A commit specification, or <b>cspec</b>, identifies a source control repo and commit ID from that repo.  A <b>cspec set</b>, or set of cspecs, describes a moment in the source control history of an SUT spanning multiple source control repositories.  Cspec sets are described by JSON, or by a URL to a JSON file on a web server, or by a hybrid of JSON containing URLs pointing at further JSON (potentially going many levels before fully resolving).  See the <a href=doc.htm>CT doc</a> for examples.
    cspec_set1: the <b>starting</b> point
    <textarea name=q1 id='json_textarea1' cols=140 rows=12></textarea><br>
    cspec_set2: the <b>ending</b> point
    <textarea name=q2 id='json_textarea2' cols=140 rows=12></textarea><br>
                        
    <input type=button value=list_bug_IDs_between onclick='submit_json("list_bug_IDs_between")'/>
    <input type=button value=list_changes_between onclick='submit_json("list_changes_between")'/>
    <input type=button value=list_files_changed_between onclick='submit_json("list_files_changed_between")'/>
    <br>
    <iframe id='ct_iframe' height="40% " width="100%"></iframe><br>
    <span id='url_span'></span>
</form>
</body>
</html>
